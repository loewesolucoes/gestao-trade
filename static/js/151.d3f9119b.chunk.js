(()=>{"use strict";crypto.randomUUID();console.debug("database-broadcast-worker start");const e=new Worker("".concat("/gestao-trade","/worker.sql-wasm.js"));e.onerror=e=>console.error("Database worker error: ",e),e.onmessage=e=>{var a;console.debug("sqlJsWorker.onmessage",e),null!==(a=e.data.id)&&void 0!==a&&a.startsWith("sw-")?function(e){const{id:a}=e.data,o="".concat(a).split(":")[0];console.log("sendSWMessage",a,o),s[o].receiveChannel.postMessage(e.data)}(e):self.postMessage(e.data)},self.onmessage=s=>{console.debug("self.onmessage",s),e.postMessage(s.data)};const s={},a=new BroadcastChannel("DB_BROADCAST_CHANNEL_SW");a.onmessageerror=e=>{console.error("broadcastChannel.onmessageerror",e)},a.onmessage=a=>{const{id:o,swName:n,sendChannel:r,receiveChannel:t}=a.data;if(console.log("broadcastChannel.onmessage",o,n),"connect"===o){const a=new BroadcastChannel(r),o=new BroadcastChannel(t);a.onmessageerror=e=>{console.error("sendBroadcastChannel.onmessageerror",e)},a.onmessage=s=>{console.debug("sendBroadcastChannel.onmessage",s),e.postMessage(s.data)},s[n]={sendChannel:a,receiveChannel:o}}},console.debug("database-broadcast-worker end")})();
//# sourceMappingURL=151.d3f9119b.chunk.js.map