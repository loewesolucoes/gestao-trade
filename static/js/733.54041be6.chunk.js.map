{"version":3,"file":"static/js/733.54041be6.chunk.js","mappings":"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","sources":["utils/enum.ts","pages/acoes/acao-card/acao-card.tsx","pages/integracao/index.tsx","../node_modules/moment/locale/pt-br.js"],"sourcesContent":["export class EnumUtil {\r\n  public static keyFromValue(en: any, value: any): any {\r\n    return Object.keys(en)[Object.values(en).indexOf(value)]\r\n  }\r\n\r\n  public static values(en: any): any[] {\r\n    return Object.keys(en).filter(x => isNaN(x as any))\r\n  }\r\n}\r\n","\"use client\";\r\nimport \"./styles.scss\"\r\nimport { Acoes, StockType } from \"../../../repositories/acoes\";\r\nimport { EnumUtil } from \"../../../utils/enum\";\r\n\r\ninterface CustomProps {\r\n  acao: Acoes;\r\n  isActive?: boolean;\r\n  onClick: (acao: Acoes) => void;\r\n}\r\n\r\nexport function AcaoCard(props: CustomProps) {\r\n  const { acao: stock, isActive, onClick } = props;\r\n\r\n  return (\r\n    <button type=\"button\" className={`stock-card ${isActive ? 'marked' : ''} ${stock.active ? 'active' : ''}`.trim()} onClick={() => onClick(stock)}>\r\n      <img src={stock.logo} alt={stock.nome} />\r\n      <h4>{stock.nome}</h4>\r\n      <small>{stock.codigo}</small>\r\n      <div className=\"info\">\r\n        {stock.setor && (<span>{stock.setor}</span>)}\r\n        {stock.tipo && (<span>{EnumUtil.keyFromValue(StockType, stock.tipo)}</span>)}\r\n      </div>\r\n    </button>\r\n  );\r\n}\r\n","import './index.scss';\nimport { Layout } from '../../shared/layout';\nimport { useEffect, useState } from 'react';\nimport { useIntegration } from '../../contexts/integration';\nimport { Loader } from '../../components/loader';\nimport { useStorage } from '../../contexts/storage';\nimport { IntegracaoHistoricoAcao, IntervaloHistoricoAcoes } from '../../repositories/historico-acoes';\nimport { AcaoCard } from '../acoes/acao-card/acao-card';\n\nexport default function () {\n  const { isLoadingIntegration } = useIntegration();\n\n  useEffect(() => {\n    document.title = `Integração | ${process.env.REACT_APP_TITLE}`\n  }, []);\n\n  return (\n    <Layout>\n      <article className='container'>\n        <h1>Integração</h1>\n        {isLoadingIntegration ? <Loader /> : <CardsDaIntegracao />}\n      </article>\n    </Layout>\n  );\n}\nfunction CardsDaIntegracao() {\n  const { loadAll } = useIntegration();\n  const { repository, isDbOk } = useStorage();\n  const [isLoading, setIsLoading] = useState(true)\n  const [acoesQuePrecisamAtualizar, setAcoesQuePrecisamAtualizar] = useState<IntegracaoHistoricoAcao[]>([])\n\n  useEffect(() => {\n    isDbOk && load();\n  }, [isDbOk]);\n\n  async function load() {\n    setIsLoading(true);\n    const result = await repository.historicoAcoes.acoesQuePrecisamAtualizar(IntervaloHistoricoAcoes.UM_DIA);\n\n    setAcoesQuePrecisamAtualizar(result);\n    setIsLoading(false);\n  }\n\n  return <div className='d-flex gap-3 flex-column'>\n    <div className=\"card\">\n      <h4 className=\"card-header\">\n        Geral\n      </h4>\n      <div className=\"card-body\">\n        <div className='d-flex gap-3 '>\n          <button type='button' className='btn btn-primary' onClick={loadAll}>Carregar todas integrações</button>\n          <button type='button' className='btn btn-secondary'>Carregar tudo do BRAPI</button>\n          <button type='button' className='btn btn-secondary'>Carregar tudo do Yahoo</button>\n        </div>\n      </div>\n    </div>\n    <div className=\"card\">\n      <h4 className=\"card-header d-flex justify-content-between\">\n        Yahoo\n        <button type='button' className='btn btn-secondary'>Integrar Yahoo</button>\n      </h4>\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">Ações que precisam integrar</h5>\n        {acoesQuePrecisamAtualizar == null ? <div className=\"alert alert-info\">Carregando ações ativas...</div>\n          : (\n            acoesQuePrecisamAtualizar.length === 0 ? (<div className=\"alert alert-info\">Nenhuma ação ativa...</div>) : (\n              <div className=\"stocks\">\n                {acoesQuePrecisamAtualizar.map(x => ({codigo: x.codigoAcao, logo: x.logoAcao})).map(x => (\n                  <AcaoCard key={x.codigo} acao={x as any} isActive={false} onClick={alert} />\n                ))}\n              </div>\n            )\n          )\n        }\n      </div>\n    </div>\n    <div className=\"card\">\n      <h4 className=\"card-header\">\n        BRAPI\n      </h4>\n      <div className=\"card-body\">\n        <button type='button' className='btn btn-secondary'>Integrar BRAPI</button>\n      </div>\n    </div>\n  </div>;\n}\n\n","//! moment.js locale configuration\n//! locale : Portuguese (Brazil) [pt-br]\n//! author : Caio Ribeiro Pereira : https://github.com/caio-ribeiro-pereira\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n    //! moment.js locale configuration\n\n    var ptBr = moment.defineLocale('pt-br', {\n        months: 'janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro'.split(\n            '_'\n        ),\n        monthsShort: 'jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez'.split('_'),\n        weekdays:\n            'domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado'.split(\n                '_'\n            ),\n        weekdaysShort: 'dom_seg_ter_qua_qui_sex_sáb'.split('_'),\n        weekdaysMin: 'do_2ª_3ª_4ª_5ª_6ª_sá'.split('_'),\n        weekdaysParseExact: true,\n        longDateFormat: {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L: 'DD/MM/YYYY',\n            LL: 'D [de] MMMM [de] YYYY',\n            LLL: 'D [de] MMMM [de] YYYY [às] HH:mm',\n            LLLL: 'dddd, D [de] MMMM [de] YYYY [às] HH:mm',\n        },\n        calendar: {\n            sameDay: '[Hoje às] LT',\n            nextDay: '[Amanhã às] LT',\n            nextWeek: 'dddd [às] LT',\n            lastDay: '[Ontem às] LT',\n            lastWeek: function () {\n                return this.day() === 0 || this.day() === 6\n                    ? '[Último] dddd [às] LT' // Saturday + Sunday\n                    : '[Última] dddd [às] LT'; // Monday - Friday\n            },\n            sameElse: 'L',\n        },\n        relativeTime: {\n            future: 'em %s',\n            past: 'há %s',\n            s: 'poucos segundos',\n            ss: '%d segundos',\n            m: 'um minuto',\n            mm: '%d minutos',\n            h: 'uma hora',\n            hh: '%d horas',\n            d: 'um dia',\n            dd: '%d dias',\n            M: 'um mês',\n            MM: '%d meses',\n            y: 'um ano',\n            yy: '%d anos',\n        },\n        dayOfMonthOrdinalParse: /\\d{1,2}º/,\n        ordinal: '%dº',\n        invalidDate: 'Data inválida',\n    });\n\n    return ptBr;\n\n})));\n"],"names":["EnumUtil","keyFromValue","en","value","Object","keys","values","indexOf","filter","x","isNaN","AcaoCard","props","acao","stock","isActive","onClick","_jsxs","type","className","concat","active","trim","children","_jsx","src","logo","alt","nome","codigo","setor","tipo","StockType","isLoadingIntegration","useIntegration","useEffect","document","title","process","Layout","Loader","CardsDaIntegracao","loadAll","repository","isDbOk","useStorage","isLoading","setIsLoading","useState","acoesQuePrecisamAtualizar","setAcoesQuePrecisamAtualizar","async","result","historicoAcoes","IntervaloHistoricoAcoes","UM_DIA","load","length","map","codigoAcao","logoAcao","alert","moment","defineLocale","months","split","monthsShort","weekdays","weekdaysShort","weekdaysMin","weekdaysParseExact","longDateFormat","LT","LTS","L","LL","LLL","LLLL","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","this","day","sameElse","relativeTime","future","past","s","ss","m","mm","h","hh","d","dd","M","MM","y","yy","dayOfMonthOrdinalParse","ordinal","invalidDate","factory","require"],"sourceRoot":""}