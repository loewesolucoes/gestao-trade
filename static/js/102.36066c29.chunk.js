/*! For license information please see 102.36066c29.chunk.js.LICENSE.txt */
(self.webpackChunkgestao_trade=self.webpackChunkgestao_trade||[]).push([[102],{157:(e,t,a)=>{"use strict";a.d(t,{p:()=>r});var s=a(45),n=a(178),i=a.n(n),o=a(579);function r(e){const{onChange:t,isNumber:a,groupSymbolLeft:n,groupSymbolRight:r,isPercent:c,value:l,...d}=e,u="number"===e.type||a,m="date"===e.type,h="month"===e.type,f="textarea"===e.type;function p(e){const{value:a}=e.target,n=t||function(){};n(c?(0,s.A)(a).div(100):u?(0,s.A)(a):m?i()(a,"YYYY-MM-DD").toDate():h?i()(a,"YYYY-MM").toDate():a)}const v=function(e,t,a,s,n){return t?function(e,t){let{isPercent:a}=t;return null==e||isNaN(e.toNumber())?"":a?e.times(100).toNumber():e.toNumber()}(e,{isPercent:n}):a?i()(e).format("YYYY-MM-DD"):s?i()(e).format("YYYY-MM"):e||""}(l,u,m,h,c),x=f?(0,o.jsx)("textarea",{className:"form-control",onChange:p,value:v,...d}):(0,o.jsx)("input",{className:"form-control",onChange:p,value:v,...d});return n||r?(0,o.jsxs)("div",{className:"input-group mb-3",children:[n&&(0,o.jsx)("span",{className:"input-group-text",children:n}),x,r&&(0,o.jsx)("span",{className:"input-group-text",children:r})]}):x}},964:(e,t,a)=>{"use strict";a.d(t,{l:()=>o});var s=a(642);class n{static keyFromValue(e,t){return Object.keys(e)[Object.values(e).indexOf(t)]}static values(e){return Object.keys(e).filter((e=>isNaN(e)))}}var i=a(579);function o(e){const{acao:t,isActive:a,onClick:o}=e;return(0,i.jsxs)("button",{type:"button",className:"stock-card ".concat(a?"marked":""," ").concat(t.active?"active":"").trim(),onClick:()=>o(t),children:[(0,i.jsx)("img",{src:t.logo,alt:t.nome}),(0,i.jsx)("h4",{children:t.nome}),(0,i.jsx)("small",{children:t.codigo}),(0,i.jsxs)("div",{className:"info",children:[t.setor&&(0,i.jsx)("span",{children:t.setor}),t.tipo&&(0,i.jsx)("span",{children:n.keyFromValue(s.t,t.tipo)})]})]})}},795:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var s=a(875),n=a(43),i=a(579);const o=n.forwardRef(((e,t)=>{let{active:a=!1,disabled:s=!1,className:n,style:o,activeLabel:r="(current)",children:c,linkStyle:l,linkClassName:d,...u}=e;const m=a||s?"span":"a";return(0,i.jsx)("li",{ref:t,style:o,className:"page-item",children:(0,i.jsxs)(m,{className:"page-link",style:l,...u,children:[c,a&&r&&(0,i.jsx)("span",{className:"visually-hidden",children:r})]})})}));function r(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const s=n.forwardRef(((e,s)=>{let{children:n,...r}=e;return(0,i.jsxs)(o,{...r,ref:s,children:[(0,i.jsx)("span",{"aria-hidden":"true",children:n||t}),(0,i.jsx)("span",{className:"visually-hidden",children:a})]})}));return s.displayName=e,s}o.displayName="PageItem";const c=r("First","Primeiro"),l=r("Prev","Anterior","Anterior"),d=r("Ellipsis","\u2026","Mais"),u=r("Next","Pr\xf3ximo"),m=r("Last","Ultimo"),h=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:s,size:n,...o}=e;return(0,i.jsx)("ul",{ref:t,...o,className:"pagination"})}));h.displayName="Pagination";const f=e=>{let{page:t=1,between:a=3,total:s,limit:n,onChangePage:r=(e=>console.log("Precisa configurar o componente")),next:f=!0,last:p=!1,ellipsis:v=0,...x}=e;const g=Math.ceil(s/n);a=a<1?1:a,t=t<1?1:t>g?g:t,v=v<1?0:v+2>=a?a-2:v;let j=Array.from({length:g},((e,t)=>t));const b=2*a+1,y=g<=b?j:t-1<=a?j.slice(0,b-(v>0?v+1:0)):t+a>=g?j.slice(g-b+(v>0?v+1:0),g):j.slice(t-1-(a-(v>0?v+1:0)),t+(a-(v>0?v+1:0)));return null!==s&&s>0?(0,i.jsxs)(h,{...x,children:[p&&(0,i.jsx)(c,{onClick:()=>t>1?r(1):{},disabled:t<=1}),f&&(0,i.jsx)(l,{onClick:()=>t>1?r(t-1):{},disabled:t<=1}),g>2*a+1&&v>0&&j.slice(0,t-1<=a?0:v).map((e=>(0,i.jsx)(o,{onClick:()=>e!==t-1?r(e+1):{},children:e+1},e))),g>2*a+1&&v>0&&t-1>a&&(0,i.jsx)(d,{disabled:!0}),y.map((e=>(0,i.jsx)(o,{active:e===t-1,onClick:()=>e!==t-1?r(e+1):{},children:e+1},e))),g>2*a+1&&v>0&&t<g-a&&(0,i.jsx)(d,{disabled:!0}),g>2*a+1&&v>0&&j.slice(t>=g-a?g:g-v,g).map((e=>(0,i.jsx)(o,{onClick:()=>e!==t-1?r(e+1):{},children:e+1},e))),f&&(0,i.jsx)(u,{onClick:()=>t<g?r(t+1):{},disabled:t>=g}),p&&(0,i.jsx)(m,{onClick:()=>t<g?r(g):{},disabled:t>=g})]}):(0,i.jsx)(i.Fragment,{})};var p=a(964);class v{static debounce(e,t,a){let s,n,i,o,r,c,l=0,d=!1,u=!1,m=!0;const h=window,f=!t&&0!==t&&"function"===typeof h.requestAnimationFrame;if("function"!==typeof e)throw new TypeError("Expected a function");function p(t){const a=s,i=n;return s=n=void 0,l=t,o=e.apply(i,a),o}function v(e,t){return f?(h.cancelAnimationFrame(r),h.requestAnimationFrame(e)):setTimeout(e,t)}function x(e){const a=e-c;return void 0===c||a>=t||a<0||u&&e-l>=i}function g(){const e=Date.now();if(x(e))return j(e);r=v(g,function(e){const a=e-l,s=t-(e-c);return u?Math.min(s,i-a):s}(e))}function j(e){return r=void 0,m&&s?p(e):(s=n=void 0,o)}function b(){const e=Date.now(),a=x(e);for(var i=arguments.length,m=new Array(i),h=0;h<i;h++)m[h]=arguments[h];if(s=m,n=this,c=e,a){if(void 0===r)return function(e){return l=e,r=v(g,t),d?p(e):o}(c);if(u)return r=v(g,t),p(c)}return void 0===r&&(r=v(g,t)),o}return t=+t||0,"object"===typeof a&&(d=!!a.leading,u="maxWait"in a,i=u?Math.max(+a.maxWait||0,t):i,m="trailing"in a?!!a.trailing:m),b.cancel=function(){var e;void 0!==r&&(e=r,f?h.cancelAnimationFrame(e):clearTimeout(e)),l=0,s=c=n=r=void 0},b.flush=function(){return void 0===r?o:j(Date.now())},b.pending=function(){return void 0!==r},b}static async wait(e){return new Promise((t=>setTimeout((()=>t()),e)))}}var x=a(475),g=a(401),j=a(157);const b="page",y="q";let _=null;function N(){const[e,t]=(0,n.useState)(""),[a,o]=(0,n.useState)([]),[r,c]=(0,n.useState)(25),[l,d]=(0,n.useState)(1),[u,m]=(0,n.useState)(100),[h,N]=(0,n.useState)(!1),[k,M]=(0,n.useState)({}),[Y,w]=(0,x.ok)(),{repository:L,isDbOk:C}=(0,g.r)();function D(){!function(){const t=new URLSearchParams(Y);t.set(b,"".concat(l)),t.set(y,"".concat(e)),w(t.toString())}(),C&&A()}async function A(){const{acoes:t,total:a}=await L.acoes.listPaginado(e,l,r);M({}),o(t),m(a)}function P(e){const t={...k};null==t[e.codigo]?t[e.codigo]=e:delete t[e.codigo],M(t)}return(0,n.useEffect)((()=>{document.title="A\xe7\xf5es | ".concat("Gest\xe3o de trading")}),[]),_=_||v.debounce((e=>e()),500),(0,n.useEffect)((()=>{var e=Y.get(b),a=Y.get(y);e&&d(Number(e)||1),a&&t(a)}),[]),(0,n.useEffect)((()=>_(D)),[C,r,l,e]),(0,i.jsx)(s.P,{children:(0,i.jsxs)("section",{className:"container",children:[(0,i.jsx)("h1",{children:"A\xe7\xf5es"}),h&&(0,i.jsx)("div",{className:"loading",children:"Carregando..."}),(0,i.jsxs)("div",{className:"mark-section",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"buscaAtivo",className:"form-label",children:"Buscar ativo:"}),(0,i.jsx)(j.p,{type:"search",id:"buscaAtivo",name:"buscaAtivo",className:"form-control",placeholder:"PETR4, AZUL4, etc",value:e,onChange:function(e){t(e),d(1)}})]}),(0,i.jsx)("div",{className:"buttons",children:Object.keys(k).length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{type:"button",className:"btn btn-success btn-sm",onClick:()=>async function(e){N(!0);let t=!1;try{const a=Object.values(e);await L.acoes.marcarComoAtivos(a),await A(),t=!0}catch(a){console.error("erro ao salvar",a)}t?window.alert("Salvo com sucesso!"):window.confirm("Erro ao salvar!"),N(!1)}(k),children:"Marcar como ativo(s) / inativo(s)"}),(0,i.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>M({}),children:"Limpar sele\xe7\xe3o"})]})})]}),(0,i.jsx)("div",{className:"cards",children:a.map((e=>(0,i.jsx)(p.l,{acao:e,isActive:!!k[e.codigo],onClick:P},e.codigo)))}),(0,i.jsxs)("div",{className:"pagination-section",children:[(0,i.jsx)(f,{page:l,total:u,limit:r,ellipsis:10,onChangePage:e=>d(e)}),(0,i.jsxs)("select",{className:"form-select",value:r,onChange:e=>{var t;return c(Number(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||20)},children:[(0,i.jsx)("option",{value:"25",children:"25"}),(0,i.jsx)("option",{value:"50",children:"50"}),(0,i.jsx)("option",{value:"100",children:"100"})]})]})]})})}},820:function(e,t,a){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(a(178))}}]);
//# sourceMappingURL=102.36066c29.chunk.js.map